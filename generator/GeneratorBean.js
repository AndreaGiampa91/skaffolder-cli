var _0xe79b=['template','_resources','_template_resource','List_Crud','url','replace','{id}','resource','_id','****\x20PROPERTIES\x20SKAFFOLDER\x20****','indexOf','warn','yellow','Properties\x20Skaffoler\x20not\x20found\x20in\x20file\x20','length','./build/','path','klaw-sync','async','pathTemplate','project','modules','resources','info','START\x20GENERATE\x20','push','./GeneratorUtils.js','init','each','Elaborate\x20file\x20','name','error','forEachObj','paramsForEach','toString','_entity','table','generateFile','module'];(function(_0x3a10b6,_0x3181f0){var _0x463dc3=function(_0x5e37f2){while(--_0x5e37f2){_0x3a10b6['push'](_0x3a10b6['shift']());}};_0x463dc3(++_0x3181f0);}(_0xe79b,0xab));var _0xbe79=function(_0x13e724,_0x296739){_0x13e724=_0x13e724-0x0;var _0x334a44=_0xe79b[_0x13e724];return _0x334a44;};var pathWorkspace=_0xbe79('0x0');const pathTemplate='.skaffolder/template/';const fs=require('fs');const path=require(_0xbe79('0x1'));const klawSync=require(_0xbe79('0x2'));const async=require(_0xbe79('0x3'));const chalk=require('chalk');exports[_0xbe79('0x4')]=pathTemplate;exports['generate']=function(_0xc970d4,_0x953e3f,_0x224135){var _0x4650a5=_0xc970d4[_0xbe79('0x5')];var _0x2970fb=_0xc970d4[_0xbe79('0x6')];var _0x496981=_0xc970d4[_0xbe79('0x7')];var _0x35c405=_0xc970d4['dbs'];var _0x332ed0=getGenFiles();var _0x3a0839=[];try{_0x953e3f[_0xbe79('0x8')](chalk['green'](_0xbe79('0x9')));_0x3a0839[_0xbe79('0xa')]('START\x20GENERATE\x20');var _0x2547c5=require(_0xbe79('0xb'));_0x2547c5[_0xbe79('0xc')](pathWorkspace,_0x4650a5,_0x2970fb,_0x496981,_0x35c405);async[_0xbe79('0xd')](_0x332ed0,function(_0x3cf323,_0xc6c2e7){_0x3a0839[_0xbe79('0xa')](_0xbe79('0xe')+_0x3cf323[_0xbe79('0xf')]);generateFile(_0x3cf323,_0x3a0839,_0x2547c5,_0x4650a5,_0x2970fb,_0x496981,_0x35c405);_0xc6c2e7(null);},function(_0x4ec717){_0x224135(_0x4ec717,_0x3a0839);});}catch(_0x488ec0){console[_0xbe79('0x10')](_0x488ec0);}};var generateFile=function(_0x4e2f79,_0x422561,_0x4fa850,_0x1b54f8,_0x2678eb,_0x2bcb30,_0x473868,_0x16f20c){if(_0x4e2f79[_0xbe79('0x11')]=='oneTime'){return _0x4fa850['generateFile'](_0x422561,_0x4e2f79,{},_0x16f20c);}else if(_0x4e2f79['forEachObj']=='db'){if(_0x16f20c&&_0x16f20c[_0xbe79('0x12')]){for(var _0x9a6b7b in _0x473868){if(_0x473868[_0x9a6b7b]['_id'][_0xbe79('0x13')]()==_0x16f20c['paramsForEach']){var _0x1d92b9=_0x2bcb30[_0x9a6b7b];_0x1d92b9[_0xbe79('0x14')]=_0x473868[_0x9a6b7b]['_entity'];return _0x4fa850['generateFile'](_0x422561,_0x4e2f79,{'db':_0x1d92b9},_0x16f20c);}}}else{for(var _0x9a6b7b in _0x473868){var _0x1d92b9=_0x2bcb30[_0x9a6b7b];_0x1d92b9[_0xbe79('0x14')]=_0x473868[_0x9a6b7b][_0xbe79('0x14')];_0x4fa850['generateFile'](_0x422561,_0x4e2f79,{'db':_0x1d92b9},_0x16f20c);}}}else if(_0x4e2f79[_0xbe79('0x11')]==_0xbe79('0x15')){for(var _0x9a6b7b in _0x473868){var _0x1d92b9=_0x473868[_0x9a6b7b];for(var _0x14cc8a in _0x473868[_0x9a6b7b][_0xbe79('0x14')]){var _0x30f126=_0x473868[_0x9a6b7b]['_entity'][_0x14cc8a];if(_0x16f20c&&_0x16f20c[_0xbe79('0x12')]){if(_0x30f126['_id'][_0xbe79('0x13')]()==_0x16f20c[_0xbe79('0x12')])return _0x4fa850[_0xbe79('0x16')](_0x422561,_0x4e2f79,{'entity':_0x30f126,'db':_0x1d92b9},_0x16f20c);;}else{_0x4fa850[_0xbe79('0x16')](_0x422561,_0x4e2f79,{'entity':_0x30f126,'db':_0x1d92b9},_0x16f20c);}}}}else if(_0x4e2f79[_0xbe79('0x11')]==_0xbe79('0x17')){for(var _0x9a6b7b in _0x2678eb){var _0x3f7343=_0x2678eb[_0x9a6b7b];var _0x1f0401={'url':''};var _0x3f2c72='';var _0x20febc='';var _0x36f447='';var _0x320c14='';if(_0x3f7343[_0xbe79('0x18')]){var _0x56df55='';for(dbId in _0x2bcb30){var _0x55719a=_0x2bcb30[dbId][_0xbe79('0x19')];for(resId in _0x55719a){var _0x15bc7f=_0x55719a[resId];if(_0x3f7343[_0xbe79('0x1a')][_0xbe79('0x13')]()==_0x15bc7f['_id']){_0x320c14=_0x15bc7f;}}}for(modId in _0x2678eb){var _0x77ce17=_0x2678eb[modId];if(_0x77ce17[_0xbe79('0x18')]==_0xbe79('0x1b')&&_0x3f7343[_0xbe79('0x1a')]&&_0x77ce17[_0xbe79('0x1a')]&&_0x77ce17[_0xbe79('0x1a')][_0xbe79('0x13')]()==_0x3f7343['_template_resource']['toString']()){_0x1f0401=_0x2678eb[modId];}}}if(_0x16f20c&&_0x16f20c[_0xbe79('0x12')]){if(_0x3f7343['_id']['toString']()==_0x16f20c['paramsForEach']){return _0x4fa850[_0xbe79('0x16')](_0x422561,_0x4e2f79,{'module':_0x3f7343,'crudResource':_0x320c14,'linkUrl':_0x1f0401[_0xbe79('0x1c')][_0xbe79('0x1d')](_0xbe79('0x1e'),'')+'/'},_0x16f20c);}}else{_0x4fa850[_0xbe79('0x16')](_0x422561,_0x4e2f79,{'module':_0x3f7343,'crudResource':_0x320c14,'linkUrl':_0x1f0401['url'][_0xbe79('0x1d')](_0xbe79('0x1e'),'')+'/'},_0x16f20c);}}}else if(_0x4e2f79[_0xbe79('0x11')]==_0xbe79('0x1f')){for(var _0x9a6b7b in _0x2bcb30){var _0x1d92b9=_0x2bcb30[_0x9a6b7b];for(var _0x2bd495 in _0x2bcb30[_0x9a6b7b][_0xbe79('0x19')]){var _0x15bc7f=_0x2bcb30[_0x9a6b7b][_0xbe79('0x19')][_0x2bd495];if(_0x16f20c&&_0x16f20c[_0xbe79('0x12')]){if(_0x15bc7f[_0xbe79('0x20')][_0xbe79('0x13')]()==_0x16f20c[_0xbe79('0x12')])return _0x4fa850[_0xbe79('0x16')](_0x422561,_0x4e2f79,{'resource':_0x15bc7f,'db':_0x1d92b9},_0x16f20c);}else{_0x4fa850['generateFile'](_0x422561,_0x4e2f79,{'resource':_0x15bc7f,'db':_0x1d92b9},_0x16f20c);}}}}};var getGenFiles=function(){return klawSync(pathTemplate,{'nodir':!![]})['map'](_0x8a61c1=>{let _0x5c2af8=fs['readFileSync'](_0x8a61c1[_0xbe79('0x1')],'utf8');let _0x56592b=getProperties(_0x5c2af8,_0x8a61c1['path']);_0x56592b[_0xbe79('0xf')]=path['relative'](pathTemplate,_0x8a61c1[_0xbe79('0x1')]);return _0x56592b;});};var getProperties=(_0x2db11f,_0x3d3882)=>{var _0x1a0d14=_0xbe79('0x21');var _0x2462b0='****\x20END\x20PROPERTIES\x20SKAFFOLDER\x20****';let _0x2128ff=_0x2db11f[_0xbe79('0x22')](_0x1a0d14);let _0x3bf293=_0x2db11f[_0xbe79('0x22')](_0x2462b0);if(_0x2128ff==-0x1||_0x3bf293==-0x1){console[_0xbe79('0x23')](chalk[_0xbe79('0x24')](_0xbe79('0x25'))+_0x3d3882);return{'template':_0x2db11f};}let _0x3751f0=_0x2db11f['substr'](_0x2128ff+_0x1a0d14[_0xbe79('0x26')],_0x3bf293-_0x1a0d14[_0xbe79('0x26')]);try{_0x3751f0=JSON['parse'](_0x3751f0);}catch(_0x367535){console['warn'](chalk['red']('Error\x20parsing\x20JSON\x20Skaffodler\x20properties\x20in\x20file\x20')+_0x3d3882);}_0x3751f0[_0xbe79('0x18')]=_0x2db11f['substr'](_0x3bf293+_0x2462b0['length']+0x1);return _0x3751f0;};