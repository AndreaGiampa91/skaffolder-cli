var _0x1f94=['START\x20GENERATE\x20','init','each','Elaborate\x20file\x20','name','error','forEachObj','generateFile','paramsForEach','_id','toString','_entity','module','template','_template_resource','url','replace','{id}','_resources','klaw-sync','map','readFileSync','utf8','.hbs','substr','length','_SK_EDIT','_SK_LIST','****\x20PROPERTIES\x20SKAFFOLDER\x20****','indexOf','warn','yellow','WARN:','\x20Properties\x20Skaffoler\x20not\x20found\x20in\x20file\x20','oneTime','parse','_SK_LIST.hbs','templateList','utf-8','_SK_EDIT.hbs','templateEdit','charAt','path','async','chalk','pathTemplate','generate','project','modules','info','green','push'];(function(_0xf89c3,_0x351bf1){var _0x274fc8=function(_0x5e0c91){while(--_0x5e0c91){_0xf89c3['push'](_0xf89c3['shift']());}};_0x274fc8(++_0x351bf1);}(_0x1f94,0x12e));var _0x41f9=function(_0xfebead,_0x1dfeba){_0xfebead=_0xfebead-0x0;var _0x482ca7=_0x1f94[_0xfebead];return _0x482ca7;};var pathWorkspace='./';const pathTemplate='.skaffolder/template/';const fs=require('fs');const path=require(_0x41f9('0x0'));const klawSync=require('klaw-sync');const async=require(_0x41f9('0x1'));const chalk=require(_0x41f9('0x2'));exports[_0x41f9('0x3')]=pathTemplate;exports[_0x41f9('0x4')]=function(_0x1ec694,_0x5cc698,_0x250fb7){var _0x109780=_0x1ec694[_0x41f9('0x5')];var _0x38307b=_0x1ec694[_0x41f9('0x6')];var _0x18731f=_0x1ec694['resources'];var _0x51cede=_0x1ec694['dbs'];var _0x131e6b=getGenFiles(pathTemplate);var _0x51cda3=[];try{_0x5cc698[_0x41f9('0x7')](chalk[_0x41f9('0x8')]('START\x20GENERATE\x20'));_0x51cda3[_0x41f9('0x9')](_0x41f9('0xa'));var _0x14a539=require('./GeneratorUtils.js');_0x14a539[_0x41f9('0xb')](pathWorkspace,_0x109780,_0x38307b,_0x18731f,_0x51cede);async[_0x41f9('0xc')](_0x131e6b,function(_0x2f5a48,_0x445004){_0x51cda3[_0x41f9('0x9')](_0x41f9('0xd')+_0x2f5a48[_0x41f9('0xe')]);generateFile(_0x2f5a48,_0x51cda3,_0x14a539,_0x109780,_0x38307b,_0x18731f,_0x51cede);_0x445004(null);},function(_0xc4336e){_0x250fb7(_0xc4336e,_0x51cda3);});}catch(_0x54e609){console[_0x41f9('0xf')](_0x54e609);}};var generateFile=function(_0x202501,_0x281a83,_0x4aa82a,_0x272d44,_0x7400cd,_0x9a220a,_0x21b17b,_0x316895){if(_0x202501[_0x41f9('0x10')]=='oneTime'){return _0x4aa82a[_0x41f9('0x11')](_0x281a83,_0x202501,{},_0x316895);}else if(_0x202501[_0x41f9('0x10')]=='db'){if(_0x316895&&_0x316895[_0x41f9('0x12')]){for(var _0x305a9e in _0x21b17b){if(_0x21b17b[_0x305a9e][_0x41f9('0x13')][_0x41f9('0x14')]()==_0x316895[_0x41f9('0x12')]){var _0x21261c=_0x9a220a[_0x305a9e];_0x21261c['_entity']=_0x21b17b[_0x305a9e]['_entity'];return _0x4aa82a[_0x41f9('0x11')](_0x281a83,_0x202501,{'db':_0x21261c},_0x316895);}}}else{for(var _0x305a9e in _0x21b17b){var _0x21261c=_0x9a220a[_0x305a9e];_0x21261c['_entity']=_0x21b17b[_0x305a9e][_0x41f9('0x15')];_0x4aa82a[_0x41f9('0x11')](_0x281a83,_0x202501,{'db':_0x21261c},_0x316895);}}}else if(_0x202501['forEachObj']=='table'){for(var _0x305a9e in _0x21b17b){var _0x21261c=_0x21b17b[_0x305a9e];for(var _0x5eae2f in _0x21b17b[_0x305a9e][_0x41f9('0x15')]){var _0x2858e0=_0x21b17b[_0x305a9e][_0x41f9('0x15')][_0x5eae2f];if(_0x316895&&_0x316895['paramsForEach']){if(_0x2858e0['_id']['toString']()==_0x316895[_0x41f9('0x12')])return _0x4aa82a['generateFile'](_0x281a83,_0x202501,{'entity':_0x2858e0,'db':_0x21261c},_0x316895);;}else{_0x4aa82a[_0x41f9('0x11')](_0x281a83,_0x202501,{'entity':_0x2858e0,'db':_0x21261c},_0x316895);}}}}else if(_0x202501[_0x41f9('0x10')]==_0x41f9('0x16')){for(var _0x305a9e in _0x7400cd){var _0x406228=_0x7400cd[_0x305a9e];var _0x364da0={'url':''};var _0x22f8d7='';var _0x5abe91='';var _0x5ec698='';var _0x3c306d='';if(_0x406228[_0x41f9('0x17')]){var _0x403f86='';for(dbId in _0x9a220a){var _0x109a9a=_0x9a220a[dbId]['_resources'];for(resId in _0x109a9a){var _0x373f2e=_0x109a9a[resId];if(_0x406228['_template_resource'][_0x41f9('0x14')]()==_0x373f2e[_0x41f9('0x13')]){_0x3c306d=_0x373f2e;}}}for(modId in _0x7400cd){var _0x261fea=_0x7400cd[modId];if(_0x261fea[_0x41f9('0x17')]=='List_Crud'&&_0x406228[_0x41f9('0x18')]&&_0x261fea[_0x41f9('0x18')]&&_0x261fea[_0x41f9('0x18')][_0x41f9('0x14')]()==_0x406228[_0x41f9('0x18')][_0x41f9('0x14')]()){_0x364da0=_0x7400cd[modId];}}}if(_0x316895&&_0x316895[_0x41f9('0x12')]){if(_0x406228[_0x41f9('0x13')][_0x41f9('0x14')]()==_0x316895[_0x41f9('0x12')]){return _0x4aa82a[_0x41f9('0x11')](_0x281a83,_0x202501,{'module':_0x406228,'crudResource':_0x3c306d,'linkUrl':_0x364da0[_0x41f9('0x19')][_0x41f9('0x1a')](_0x41f9('0x1b'),'')+'/'},_0x316895);}}else{_0x4aa82a['generateFile'](_0x281a83,_0x202501,{'module':_0x406228,'crudResource':_0x3c306d,'linkUrl':_0x364da0[_0x41f9('0x19')][_0x41f9('0x1a')](_0x41f9('0x1b'),'')+'/'},_0x316895);}}}else if(_0x202501['forEachObj']=='resource'){for(var _0x305a9e in _0x9a220a){var _0x21261c=_0x9a220a[_0x305a9e];for(var _0x5c2b79 in _0x9a220a[_0x305a9e][_0x41f9('0x1c')]){var _0x373f2e=_0x9a220a[_0x305a9e][_0x41f9('0x1c')][_0x5c2b79];if(_0x316895&&_0x316895[_0x41f9('0x12')]){if(_0x373f2e[_0x41f9('0x13')][_0x41f9('0x14')]()==_0x316895[_0x41f9('0x12')])return _0x4aa82a[_0x41f9('0x11')](_0x281a83,_0x202501,{'resource':_0x373f2e,'db':_0x21261c},_0x316895);}else{_0x4aa82a[_0x41f9('0x11')](_0x281a83,_0x202501,{'resource':_0x373f2e,'db':_0x21261c},_0x316895);}}}}};var getGenFiles=function(_0x913a61){var _0x54eef6=require(_0x41f9('0x1d'));return _0x54eef6(_0x913a61,{'nodir':!![]})[_0x41f9('0x1e')](_0x5712b4=>{let _0x14b1dd=fs[_0x41f9('0x1f')](_0x5712b4[_0x41f9('0x0')],_0x41f9('0x20'));let _0xe38693=path['relative'](_0x913a61,_0x5712b4[_0x41f9('0x0')]);if(_0xe38693['substr'](-0x4)==_0x41f9('0x21')){_0xe38693=_0xe38693[_0x41f9('0x22')](0x0,_0xe38693[_0x41f9('0x23')]-0x4);}if(_0xe38693[_0x41f9('0x22')](-0x8)==_0x41f9('0x24')||_0xe38693[_0x41f9('0x22')](-0x8)==_0x41f9('0x25')){_0xe38693=_0xe38693[_0x41f9('0x22')](0x0,_0xe38693[_0x41f9('0x23')]-0x8);return null;}let _0x4defcb=getProperties(_0x14b1dd,_0xe38693,_0x913a61);_0x4defcb[_0x41f9('0xe')]=_0xe38693;return _0x4defcb;})['filter'](_0x51ecfc=>_0x51ecfc);};var getProperties=(_0x310c0b,_0x59b96a,_0x57cb9f)=>{var _0x5d561c=_0x41f9('0x26');var _0x5183a0='****\x20END\x20PROPERTIES\x20SKAFFOLDER\x20****';let _0x1b23a1=_0x310c0b[_0x41f9('0x27')](_0x5d561c);let _0x4c3601=_0x310c0b['indexOf'](_0x5183a0);if(_0x1b23a1==-0x1||_0x4c3601==-0x1){console[_0x41f9('0x28')](chalk[_0x41f9('0x29')](_0x41f9('0x2a'))+_0x41f9('0x2b')+_0x59b96a);return{'template':_0x310c0b,'forEachObj':_0x41f9('0x2c')};}let _0x34436e=_0x310c0b[_0x41f9('0x22')](_0x1b23a1+_0x5d561c[_0x41f9('0x23')],_0x4c3601-_0x5d561c[_0x41f9('0x23')]);_0x34436e=JSON[_0x41f9('0x2d')](_0x34436e);let _0x54d1d1=_0x59b96a+_0x41f9('0x2e');let _0x44aa88=_0x57cb9f+'/'+_0x54d1d1;if(fs['existsSync'](_0x44aa88)){_0x34436e[_0x41f9('0x2f')]=fs[_0x41f9('0x1f')](_0x44aa88,_0x41f9('0x30'));}let _0x1a083d=_0x59b96a+_0x41f9('0x31');let _0x5e9916=_0x57cb9f+'/'+_0x1a083d;if(fs['existsSync'](_0x5e9916)){_0x34436e[_0x41f9('0x32')]=fs[_0x41f9('0x1f')](_0x5e9916,'utf-8');}_0x34436e[_0x41f9('0x17')]=_0x310c0b[_0x41f9('0x22')](_0x4c3601+_0x5183a0[_0x41f9('0x23')]);if(_0x34436e[_0x41f9('0x17')]['charAt'](0x0)=='\x0d')_0x34436e[_0x41f9('0x17')]=_0x34436e['template']['substr'](0x1);if(_0x34436e[_0x41f9('0x17')][_0x41f9('0x33')](0x0)=='\x0a')_0x34436e[_0x41f9('0x17')]=_0x34436e[_0x41f9('0x17')][_0x41f9('0x22')](0x1);if(!_0x34436e[_0x41f9('0x10')])_0x34436e[_0x41f9('0x10')]=_0x41f9('0x2c');return _0x34436e;};